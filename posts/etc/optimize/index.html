<!DOCTYPE html><!--up28RVEqIxbwf9oUZtMm3--><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/blog/_next/static/chunks/d335db6b3f1a2619.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/blog/_next/static/chunks/2139e000f4b5d584.js"/><script src="/blog/_next/static/chunks/8a8ef77865bda9e6.js" async=""></script><script src="/blog/_next/static/chunks/0ff423a9fcc0186e.js" async=""></script><script src="/blog/_next/static/chunks/88a8688d62cd2814.js" async=""></script><script src="/blog/_next/static/chunks/turbopack-566b9f8f22ac84c4.js" async=""></script><script src="/blog/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/blog/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/blog/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/blog/_next/static/chunks/631eeae4923b8465.js" async=""></script><link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" as="style" crossorigin="anonymous" integrity="sha384-n8MVd4RsNIU0KOVEMVIqhKyMVPsoloXttrTHYUjDkaWaXIhKbMCh2GbqNl2CAPFu"/><title>Optimize Galaxy book - CPIST&#x27;s blog</title><meta name="description" content="Optimize Galaxy book 5 Pro"/><link rel="icon" href="/blog/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0KOVEMVIqhKyMVPsoloXttrTHYUjDkaWaXIhKbMCh2GbqNl2CAPFu" crossorigin="anonymous"/><script src="/blog/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><main><header style="display:flex;justify-content:space-between;align-items:baseline;gap:12px"><h1 style="margin:8px 0"><a style="text-decoration:none" href="/blog/">CPIST&#x27;s blog</a></h1><nav style="display:flex;gap:12px"><a href="/blog/posts/">Posts</a></nav></header><hr style="border:0;border-top:1px solid #eee;margin:12px 0 24px"/><article><div style="color:#666;margin-bottom:6px"><a href="/etc" style="text-decoration:none">/<!-- -->etc</a></div><h2 style="margin-top:0">Optimize Galaxy book</h2><div style="color:#666;margin-bottom:18px">2025-12-31</div><p style="color:#333">Optimize Galaxy book 5 Pro</p><hr style="border:0;border-top:1px solid #eee;margin:18px 0"/><div class="prose"><ol>
<li>WorkloadsSessionHost.exe (Windows AI 기능 관련)
이 프로세스는 윈도우 11의 최신 AI 기능(Recall, Click to Do 등)을 관리하는 Windows Workload Manager의 일부임.
특히 갤럭시북5 프로처럼 NPU가 탑재된 Core Ultra 모델에서 활발하게 작동하며, 메모리 누수(Memory Leak) 이슈가 보고됨.
이유: 백그라운드에서 화면을 분석하거나 AI 기반 작업을 준비하기 위해 지속적으로 리소스를 상주시키기 때문임.</li>
</ol>
<p>최적화 방법:</p>
<ul>
<li>Recall 및 Click to Do 비활성화: 설정 &gt; 개인 정보 및 보안 &gt; Recall &amp; snapshots (또는 회상) 메뉴에서 기능을 끔.</li>
<li>서비스 중지: Win + R &gt; services.msc 입력 후 **Windows AI Fabric Service (WSAIFabricSvc)**를 찾아 중지 및 사용 안 함으로 설정함.<!-- -->
<ul>
<li>결과: 이 작업만으로도 수백 MB에서 많게는 1~2GB의 여유 메모리를 확보할 수 있습니다.</li>
</ul>
</li>
</ul>
<ol start="2">
<li>Desktop Window Manager (dwm.exe)
윈도우의 모든 창 관리, 투명도 효과, 애니메이션을 담당하는 프로세스임.
이유: 고해상도 OLED 디스플레이와 높은 주사율(120Hz)을 사용하는 갤럭시북 특성상 그래픽 자원을 많이 소모함.
또한, 인텔 그래픽 드라이버의 버그로 인해 메모리가 계속 쌓이는 현상이 발생할 수 있음.</li>
</ol>
<p>최적화 방법:</p>
<ul>
<li>그래픽 드라이버 업데이트: 삼성 업데이트 대신 인텔 공식 홈페이지에서 최신 Arc Graphics 드라이버를 직접 내려받아 설치. (가장 효과적인 해결책)</li>
<li>투명도 효과 끄기: 설정 &gt; 개인 설정 &gt; 색 &gt; 투명도 효과를 &#x27;끔&#x27;으로 설정합니다.</li>
<li>시각 효과 제한: 제어판 &gt; 시스템 &gt; 고급 시스템 설정 &gt; 성능(설정)에서 **&#x27;최적 성능으로 조정&#x27;**을 선택하면 dwm.exe의 부담이 크게 줄어듭니다.</li>
</ul>
<ol start="3">
<li>Command</li>
</ol>
<pre><code>cmake -G Ninja -S llvm -B build \
  -DLLVM_ENABLE_PROJECTS=&quot;mlir;clang&quot; \
  -DLLVM_TARGETS_TO_BUILD=&quot;X86&quot; \
  -DCMAKE_BUILD_TYPE=Release \
  -DLLVM_ENABLE_ASSERTIONS=ON \
  -DCMAKE_C_COMPILER=clang \
  -DCMAKE_CXX_COMPILER=clang++ \
  -DLLVM_USE_LINKER=lld \
  -DLLVM_PARALLEL_LINK_JOBS=1 \
  -DBUILD_SHARED_LIBS=ON \
  -DCMAKE_EXPORT_COMPILE_COMMANDS=ON \
  -DLLVM_CCACHE_BUILD=ON

// 이후 아래 커맨드 진행
ninja -C build -j4
</code></pre>
<p>완료 되면 아래와 같이 잘 빌드 되었는지 mlir-opt 실행을 확인해 보자.</p>
<pre><code>./build/bin/mlir-opt --version
</code></pre></div><hr style="border:0;border-top:1px solid #eee;margin:36px 0"/><div></div></article><!--$--><!--/$--><footer style="margin-top:48px;padding-top:16px;border-top:1px solid #eee;color:#666">© <!-- -->2026<!-- --> CPIST&#x27;s blog</footer></main><script src="/blog/_next/static/chunks/2139e000f4b5d584.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[22016,[\"/blog/_next/static/chunks/796e69ae18b2784c.js\"],\"\"]\n3:I[39756,[\"/blog/_next/static/chunks/ff1a16fafef87110.js\",\"/blog/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[37457,[\"/blog/_next/static/chunks/ff1a16fafef87110.js\",\"/blog/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n6:I[97367,[\"/blog/_next/static/chunks/ff1a16fafef87110.js\",\"/blog/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/blog/_next/static/chunks/ff1a16fafef87110.js\",\"/blog/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/blog/_next/static/chunks/ff1a16fafef87110.js\",\"/blog/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/blog/_next/static/chunks/d335db6b3f1a2619.css\",\"style\"]\n:HL[\"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css\",\"style\",{\"crossOrigin\":\"anonymous\",\"integrity\":\"sha384-n8MVd4RsNIU0KOVEMVIqhKyMVPsoloXttrTHYUjDkaWaXIhKbMCh2GbqNl2CAPFu\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"up28RVEqIxbwf9oUZtMm3\",\"c\":[\"\",\"posts\",\"etc\",\"optimize\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"etc/optimize\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/blog/_next/static/chunks/d335db6b3f1a2619.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/blog/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css\",\"integrity\":\"sha384-n8MVd4RsNIU0KOVEMVIqhKyMVPsoloXttrTHYUjDkaWaXIhKbMCh2GbqNl2CAPFu\",\"crossOrigin\":\"anonymous\"}]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"main\",null,{\"children\":[[\"$\",\"header\",null,{\"style\":{\"display\":\"flex\",\"justifyContent\":\"space-between\",\"alignItems\":\"baseline\",\"gap\":12},\"children\":[[\"$\",\"h1\",null,{\"style\":{\"margin\":\"8px 0\"},\"children\":[\"$\",\"$L2\",null,{\"href\":\"/\",\"style\":{\"textDecoration\":\"none\"},\"children\":\"CPIST's blog\"}]}],[\"$\",\"nav\",null,{\"style\":{\"display\":\"flex\",\"gap\":12},\"children\":[\"$\",\"$L2\",null,{\"href\":\"/posts\",\"children\":\"Posts\"}]}]]}],[\"$\",\"hr\",null,{\"style\":{\"border\":0,\"borderTop\":\"1px solid #eee\",\"margin\":\"12px 0 24px\"}}],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"style\":{\"marginTop\":48,\"paddingTop\":16,\"borderTop\":\"1px solid #eee\",\"color\":\"#666\"},\"children\":[\"© \",2026,\" CPIST's blog\"]}]]}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/blog/_next/static/chunks/631eeae4923b8465.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[80852,[\"/blog/_next/static/chunks/796e69ae18b2784c.js\",\"/blog/_next/static/chunks/631eeae4923b8465.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"style\":{\"color\":\"#666\",\"marginBottom\":6},\"children\":[\"$\",\"a\",null,{\"href\":\"/etc\",\"style\":{\"textDecoration\":\"none\"},\"children\":[\"/\",\"etc\"]}]}],[\"$\",\"h2\",null,{\"style\":{\"marginTop\":0},\"children\":\"Optimize Galaxy book\"}],[\"$\",\"div\",null,{\"style\":{\"color\":\"#666\",\"marginBottom\":18},\"children\":\"2025-12-31\"}],[\"$\",\"p\",null,{\"style\":{\"color\":\"#333\"},\"children\":\"Optimize Galaxy book 5 Pro\"}],[\"$\",\"hr\",null,{\"style\":{\"border\":0,\"borderTop\":\"1px solid #eee\",\"margin\":\"18px 0\"}}],[\"$\",\"div\",null,{\"className\":\"prose\",\"children\":[[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"WorkloadsSessionHost.exe (Windows AI 기능 관련)\\n이 프로세스는 윈도우 11의 최신 AI 기능(Recall, Click to Do 등)을 관리하는 Windows Workload Manager의 일부임.\\n특히 갤럭시북5 프로처럼 NPU가 탑재된 Core Ultra 모델에서 활발하게 작동하며, 메모리 누수(Memory Leak) 이슈가 보고됨.\\n이유: 백그라운드에서 화면을 분석하거나 AI 기반 작업을 준비하기 위해 지속적으로 리소스를 상주시키기 때문임.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"최적화 방법:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Recall 및 Click to Do 비활성화: 설정 \u003e 개인 정보 및 보안 \u003e Recall \u0026 snapshots (또는 회상) 메뉴에서 기능을 끔.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"서비스 중지: Win + R \u003e services.msc 입력 후 **Windows AI Fabric Service (WSAIFabricSvc)**를 찾아 중지 및 사용 안 함으로 설정함.\",\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"결과: 이 작업만으로도 수백 MB에서 많게는 1~2GB의 여유 메모리를 확보할 수 있습니다.\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"2\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Desktop Window Manager (dwm.exe)\\n윈도우의 모든 창 관리, 투명도 효과, 애니메이션을 담당하는 프로세스임.\\n이유: 고해상도 OLED 디스플레이와 높은 주사율(120Hz)을 사용하는 갤럭시북 특성상 그래픽 자원을 많이 소모함.\\n또한, 인텔 그래픽 드라이버의 버그로 인해 메모리가 계속 쌓이는 현상이 발생할 수 있음.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"최적화 방법:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"그래픽 드라이버 업데이트: 삼성 업데이트 대신 인텔 공식 홈페이지에서 최신 Arc Graphics 드라이버를 직접 내려받아 설치. (가장 효과적인 해결책)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"투명도 효과 끄기: 설정 \u003e 개인 설정 \u003e 색 \u003e 투명도 효과를 '끔'으로 설정합니다.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"시각 효과 제한: 제어판 \u003e 시스템 \u003e 고급 시스템 설정 \u003e 성능(설정)에서 **'최적 성능으로 조정'**을 선택하면 dwm.exe의 부담이 크게 줄어듭니다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Command\"}],\"\\n\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"cmake -G Ninja -S llvm -B build \\\\\\n  -DLLVM_ENABLE_PROJECTS=\\\"mlir;clang\\\" \\\\\\n  -DLLVM_TARGETS_TO_BUILD=\\\"X86\\\" \\\\\\n  -DCMAKE_BUILD_TYPE=Release \\\\\\n  -DLLVM_ENABLE_ASSERTIONS=ON \\\\\\n  -DCMAKE_C_COMPILER=clang \\\\\\n  -DCMAKE_CXX_COMPILER=clang++ \\\\\\n  -DLLVM_USE_LINKER=lld \\\\\\n  -DLLVM_PARALLEL_LINK_JOBS=1 \\\\\\n  -DBUILD_SHARED_LIBS=ON \\\\\\n  -DCMAKE_EXPORT_COMPILE_COMMANDS=ON \\\\\\n  -DLLVM_CCACHE_BUILD=ON\\n\\n// 이후 아래 커맨드 진행\\nninja -C build -j4\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"완료 되면 아래와 같이 잘 빌드 되었는지 mlir-opt 실행을 확인해 보자.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"./build/bin/mlir-opt --version\\n\"}]}]]}],[\"$\",\"hr\",null,{\"style\":{\"border\":0,\"borderTop\":\"1px solid #eee\",\"margin\":\"36px 0\"}}],[\"$\",\"$Le\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"f:I[27201,[\"/blog/_next/static/chunks/ff1a16fafef87110.js\",\"/blog/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Optimize Galaxy book - CPIST's blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Optimize Galaxy book 5 Pro\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/blog/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$Lf\",\"3\",{}]]\n8:null\n"])</script></body></html>